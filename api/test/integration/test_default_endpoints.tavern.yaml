---
test_name: GET /

marks:
  - usefixtures:
      - base_tests

includes:
  - !include common.yaml

stages:

    # Authentication stage
  - type: ref
    id: login_get_token

    # GET /
  - name: Get default API information
    request:
      method: GET
      url: "{protocol:s}://{host:s}:{port:d}/"
      headers:
        Authorization: "Bearer {test_login_token}"
    response:
      status_code: 200
      body:
        api_version: !anystr
        hostname: !anystr
        license_name: !anystr
        license_url: !anystr
        revision: !anyint
        timestamp: !anystr
        title: !anystr
