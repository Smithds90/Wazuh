# Name of the helper function
name: int_calculate

# Indicates whether the helper function supports a variable number of arguments
variadic: true

# Arguments expected by the helper function
arguments:
  1:
    type: string  # Expected type is string
    source: value   # References not allowed
    allowed_values:
      - sum
      - sub
      - mul
      - div

  2:
    type: integer  # Expected type of the secondary argument is integer
    source: both # includes values or references (their names start with $)

  3:
    type: integer  # Expected type of the secondary argument is integer
    source: both # includes values or references (their names start with $)

special_cases:
  - brief: Division by zero
    arguments:
      1: div
      3: 0
    details: The function raises an error when attempting to divide by zero.

# TODO: Improve the helper function since there are several test cases that fail
# test:
#   - arguments:
#       1: sum
#       2: 1
#       3: 9223372036854775807
#     should_pass: false
#     description: Sum that produces overflow. the limit for a 64-bit integer is exceeded
#   - arguments:
#       1: sum
#       2: -1
#       3: -9223372036854775808
#     should_pass: false
#     description: Sum that produces overflow. the limit for a 64-bit integer is exceeded
#   - arguments:
#       1: sub
#       2: 9223372036854775807
#       3: -1
#     should_pass: false
#     description: Sub that produces overflow. the limit for a 64-bit integer is exceeded
#   - arguments:
#       1: sub
#       2: -9223372036854775808
#       3: 1
#     should_pass: false
#     description: Sub that produces overflow. the limit for a 64-bit integer is exceeded
#   - arguments:
#       1: mul
#       2: 4611686018427387904
#       3: 2
#     should_pass: false
#     description: Mul that produces overflow. the limit for a 64-bit integer is exceeded
#   - arguments:
#       1: mul
#       2: 3074457345618258603
#       3: -3
#     should_pass: false
#     description: Mul that produces overflow. the limit for a 64-bit integer is exceeded
#   - arguments:
#       1: div
#       2: 0
#       3: 8
#     should_pass: true
#     expected: 0
#     description: Any division with a numerator equal to zero results in zero as long as the denominator is different from 0.
#   - arguments:
#       1: div
#       2: 5
#       3: 0
#     should_pass: false
#     description: Any division with a denominator equal to zero is an indeterminate operation.
